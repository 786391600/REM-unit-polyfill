/**
 * Module: rem - v1.2.5
 * Description: A polyfill to parse CSS links and rewrite pixel equivalents into head for non supporting browsers
 * Date Built: 2014-06-26
 * Copyright (c) 2014  | Chuck Carpenter <chuck.carpenter@me.com>,Lucas Serven <lserven@gmail.com>;
**/
!function(e){"use strict";var t=function(){var e=document.createElement("div");return e.style.cssText="font-size: 1rem;",/rem/.test(e.style.fontSize)},n=function(){for(var e=document.getElementsByTagName("link"),t=[],n=0;n<e.length;n++)"stylesheet"===e[n].rel.toLowerCase()&&null===e[n].getAttribute("data-norem")&&t.push(e[n].href);return t},r=function(){0===m.length&&(m=n());for(var e=0;e<m.length;e++)l(m[e],o,m[e],e)},o=function(e,t){if(v.push(e.responseText),y.push(t),y.length===m.length){for(var n=0;n<y.length;n++)a(v[n],y[n]);(m=f.slice(0)).length>0?(y=[],v=[],f=[],r()):i()}},a=function(e,t){for(var n,r=u(e).replace(/\/\*[\s\S]*?\*\//g,""),o=/[\w\d\s\-\/\\\[\]:,.'"*()<>+~%#^$_=|@]+\{[\w\d\s\-\/\\%#:!;,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!;,.'"*()]*\}/g,a=r.match(o),i=/\d*\.?\d+rem/g,s=r.match(i),c=/(.*\/)/,l=c.exec(t)[0],d=/@import (?:url\()?['"]?([^'\)"]*)['"]?\)?[^;]*/gm;null!==(n=d.exec(e));)f.push(l+n[1]);null!==a&&0!==a.length&&(g=g.concat(a),p=p.concat(s))},i=function(){for(var e=/[\w\d\s\-\/\\%#:,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!,.'"*()]*[;}]/g,t=0;t<g.length;t++){h+=g[t].substr(0,g[t].indexOf("{")+1);for(var n=g[t].match(e),r=0;r<n.length;r++)h+=n[r],r===n.length-1&&"}"!==h[h.length-1]&&(h+="\n}")}s()},s=function(){for(var e=0;e<p.length;e++)w[e]=Math.round(parseFloat(p[e].substr(0,p[e].length-3)*b))+"px";c()},c=function(){for(var e=0;e<w.length;e++)w[e]&&(h=h.replace(p[e],w[e]));var t=document.createElement("style");t.setAttribute("type","text/css"),t.id="remReplace",document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=h:t.appendChild(document.createTextNode(h))},l=function(t,n,r){try{var o=e.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP")||new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest;o.open("GET",t,!0),o.onreadystatechange=function(){4===o.readyState&&n(o,r)},o.send(null)}catch(a){if(e.XDomainRequest){var i=new XDomainRequest;i.open("get",t),i.onload=function(){n(i,r)},i.onerror=function(){return!1},i.send()}}},d=function(){return e.matchMedia||e.msMatchMedia?!0:!1},u=function(e){return d()||(e=e.replace(/@media[\s\S]*?\}\s*\}/g,"")),e};if(!t()){var h="",m=[],f=[],g=[],p=[],v=[],y=[],w=[],b="";b=function(){var e,t=document,n=t.documentElement,r=t.body||t.createElement("body"),o=!t.body,a=t.createElement("div"),i=r.style.fontSize;return o&&n.appendChild(r),a.style.cssText="width:1em; position:absolute; visibility:hidden; padding: 0;",r.style.fontSize="1em",r.appendChild(a),e=a.offsetWidth,o?n.removeChild(r):(r.removeChild(a),r.style.fontSize=i),e}(),r()}}(window);
