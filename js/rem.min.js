/**
 * Module: rem - v1.2.4
 * Description: A polyfill to parse CSS links and rewrite pixel equivalents into head for non supporting browsers
 * Date Built: 2014-06-21
 * Copyright (c) 2014  | Chuck Carpenter <chuck.carpenter@me.com>,Lucas Serven <lserven@gmail.com>;
**/
(function(j,f){var c=function(){var x=document.createElement("div");x.style.cssText="font-size: 1rem;";return(/rem/).test(x.style.fontSize)},q=function(){var y=document.getElementsByTagName("link"),z=[];for(var x=0;x<y.length;x++){if(y[x].rel.toLowerCase()==="stylesheet"&&y[x].getAttribute("data-norem")===null){z.push(y[x].href)}}return z},r=function(){if(d.length===0){d=q()}for(var x=0;x<d.length;x++){h(d[x],o,d[x],x)}},o=function(x,z){s.push(x.responseText);a.push(z);if(a.length===d.length){for(var y=0;y<a.length;y++){p(s[y],a[y])}if((d=w.slice(0)).length>0){a=[];s=[];w=[];r()}else{g()}}},p=function(F,E){var D=i(v(F)),C=/[\w\d\s\-\/\\\[\]:,.'"*()<>+~%#^$_=|@]+\{[\w\d\s\-\/\\%#:!;,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!;,.'"*()]*\}/g,B=D.match(C),z=/\d*\.?\d+rem/g,y=D.match(z),H=/(.*\/)/,x=H.exec(E)[0],G=/@import (?:url\()?['"]?([^'\)"]*)['"]?\)?[^;]*/gm,A;while((A=G.exec(F))!==null){w.push(x+A[1])}if(B!==null&&B.length!==0){n=n.concat(B);b=b.concat(y)}},g=function(){var z=/[\w\d\s\-\/\\%#:,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!,.'"*()]*[;}]/g;for(var y=0;y<n.length;y++){l=l+n[y].substr(0,n[y].indexOf("{")+1);var A=n[y].match(z);for(var x=0;x<A.length;x++){l=l+A[x];if(x===A.length-1&&l[l.length-1]!=="}"){l=l+"\n}"}}}u()},u=function(){for(var x=0;x<b.length;x++){m[x]=Math.round(parseFloat(b[x].substr(0,b[x].length-3)*e))+"px"}k()},k=function(){for(var x=0;x<m.length;x++){if(m[x]){l=l.replace(b[x],m[x])}}var y=document.createElement("style");y.setAttribute("type","text/css");y.id="remReplace";document.getElementsByTagName("head")[0].appendChild(y);if(y.styleSheet){y.styleSheet.cssText=l}else{y.appendChild(document.createTextNode(l))}},h=function(y,C,z){try{var B=j.ActiveXObject?(new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest();B.open("GET",y,true);B.onreadystatechange=function(){if(B.readyState===4){C(B,z)}};B.send(null)}catch(A){if(j.XDomainRequest){var x=new XDomainRequest();x.open("get",y);x.onload=function(){C(x,z)};x.onerror=function(){return false};x.send()}}},i=function(y){var z=y.search(/\/\*/),x=y.search(/\*\//);while((z>-1)&&(x>z)){y=y.substring(0,z)+y.substring(x+2);z=y.search(/\/\*/);x=y.search(/\*\//)}return y},t=function(){if(j.matchMedia||j.msMatchMedia){return true}return false},v=function(x){if(!t()){x=x.replace(/@media[\s\S]*?\}\s*\}/g,"")}return x};if(!c()){var l="",d=[],w=[],n=[],b=[],s=[],a=[],m=[],e="";e=(function(){var C=document,z=C.documentElement,x=C.body||C.createElement("body"),B=!C.body,D=C.createElement("div"),y=x.style.fontSize,A;if(B){z.appendChild(x)}D.style.cssText="width:1em; position:absolute; visibility:hidden; padding: 0;";x.style.fontSize="1em";x.appendChild(D);A=D.offsetWidth;if(B){z.removeChild(x)}else{x.removeChild(D);x.style.fontSize=y}return A}());r()}})(window);
